webpackJsonp([22],{1003:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,"@charset \"UTF-8\";\nhtml, body, #main-container, .page {\n  height: 100%; }\n\n* {\n  font-family: PingFang-SC-Medium, Microsoft YaHei; }\n\n.page {\n  background-color: #F2F2F2;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch; }\n  .page .none {\n    text-align: center;\n    padding: 15px 0;\n    font-size: 15px;\n    color: #999999; }\n\n.luggage_orders {\n  font-size: 16px !important;\n  /**\r\n    标签颜色\r\n    */ }\n  .luggage_orders .item {\n    box-sizing: border-box;\n    padding: 10px 10px 0 10px; }\n  .luggage_orders .item .content {\n    border: solid 1px #DCDCDC;\n    background-color: #fff;\n    box-sizing: border-box;\n    padding: 18px 12px;\n    position: relative;\n    border-radius: 2px;\n    box-shadow: 0px 1px 4px 0px #ddd; }\n  .luggage_orders .title {\n    font-size: 16px;\n    width: 80%;\n    padding: 0; }\n  .luggage_orders .graytext {\n    font-size: 13px;\n    color: #717171;\n    margin-top: 10px; }\n  .luggage_orders .state {\n    position: absolute;\n    background-color: #FF0000;\n    border-top-left-radius: 10px;\n    color: #fff;\n    top: 10px;\n    right: 10px;\n    font-size: 13px;\n    padding: 5px 10px; }\n  .luggage_orders .panel {\n    background-color: #fff;\n    border-top: solid 1px #ddd;\n    border-bottom: solid 1px #ddd;\n    box-sizing: border-box;\n    padding: 17px 0px;\n    margin-bottom: 8px; }\n  .luggage_orders .address .btitle {\n    font-size: 17px;\n    vertical-align: top;\n    margin-right: 9px;\n    color: #666666;\n    margin-left: 20px;\n    display: inline-block; }\n  .luggage_orders .address .title {\n    font-size: 16px;\n    vertical-align: top;\n    color: #333333;\n    display: inline-block;\n    width: 80%;\n    word-break: break-all; }\n  .luggage_orders .info .infostate {\n    border-bottom: solid 1px #DCDCDC; }\n  .luggage_orders .info .infostate .state {\n    position: static;\n    display: inline-block;\n    margin-bottom: 10px;\n    margin-left: 10px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 10px; }\n  .luggage_orders .info .line {\n    font-size: 13px;\n    color: #666666;\n    margin-top: 10px;\n    box-sizing: border-box;\n    padding-left: 19px; }\n  .luggage_orders .flow .flowuser {\n    box-sizing: border-box;\n    padding-left: 19px;\n    color: #333333;\n    font-size: 13px;\n    margin: 5px 0; }\n  .luggage_orders .flow .flowphone {\n    padding-bottom: 20px;\n    border-bottom: solid 1px #DCDCDC;\n    margin: 0; }\n  .luggage_orders .flowline li {\n    box-sizing: border-box;\n    padding: 15px 0 0px 50px;\n    position: relative; }\n  .luggage_orders .flowline li::after {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 2px;\n    height: 100%;\n    background-color: #DDDDDD;\n    left: 25px;\n    top: 10px;\n    z-index: 1; }\n  .luggage_orders .flowline li:last-child::after {\n    display: none; }\n  .luggage_orders .flowline li::before {\n    content: '';\n    display: block;\n    width: 15px;\n    height: 15px;\n    background-color: #FFA77F;\n    border-radius: 50%;\n    position: absolute;\n    top: 10px;\n    left: 18px;\n    z-index: 2; }\n  .luggage_orders .flowline li.active::before {\n    background-color: #FF5000;\n    border: solid 3px #FFA77F;\n    left: 15px; }\n  .luggage_orders .flowline li.end::before {\n    content: '\\E654';\n    font-family: 'iconfont';\n    font-size: 30px;\n    color: #DDDDDD;\n    width: 18px;\n    height: 18px;\n    background-color: #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    left: 17px; }\n  .luggage_orders .flowline li .msg {\n    font-size: 15px;\n    color: #999999; }\n  .luggage_orders .flowline li .time {\n    font-size: 13px;\n    color: #999999;\n    padding-bottom: 15px;\n    border-bottom: solid 1px #DCDCDC; }\n  .luggage_orders .flowline li.end.finash::before {\n    color: #FF5000; }\n  .luggage_orders .money {\n    color: #ff0000;\n    margin-right: 10px; }\n  .luggage_orders .cancelorder {\n    text-align: right;\n    box-sizing: border-box;\n    padding: 10px 10px 10px 0; }\n  .luggage_orders .cancelorder span {\n    font-size: 13px;\n    color: #FF5000; }\n  .luggage_orders .none {\n    text-align: center;\n    padding: 15px 0;\n    font-size: 15px;\n    color: #999999; }\n  .luggage_orders .cancelmodal {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 0;\n    z-index: 10; }\n  .luggage_orders .modalpanel {\n    width: 70%;\n    background-color: #fff;\n    border-radius: 10px; }\n  .luggage_orders .mpaneltitle {\n    padding: 15px 0;\n    text-align: center;\n    border-bottom: solid 1px #ddd; }\n  .luggage_orders .mline {\n    padding-left: 10px; }\n  .luggage_orders span.mtitle {\n    font-size: 14px;\n    color: #ADADAD; }\n  .luggage_orders span.mtext {\n    font-size: 14px;\n    color: #666666; }\n  .luggage_orders .wmsg {\n    font-size: 12px;\n    color: #ff0000;\n    padding: 10px; }\n  .luggage_orders .btns {\n    padding: 10px 0;\n    text-align: center; }\n  .luggage_orders .btns button {\n    background-color: #fff;\n    border: solid 1px #ADADAD;\n    width: 84px;\n    height: 31px;\n    border-radius: 2px;\n    color: #666;\n    margin: 0 5px;\n    outline: none; }\n  .luggage_orders .btns button.primary {\n    background-color: #FF5000;\n    border: solid 1px #FF5000;\n    color: #fff; }\n  .luggage_orders .footer {\n    text-align: center;\n    padding: 15px 0;\n    font-size: 13px;\n    color: #999999; }\n  .luggage_orders .red_bg {\n    background-color: #FF0000; }\n  .luggage_orders .green_bg {\n    background-color: #22AC38; }\n  .luggage_orders .blue_bg {\n    background-color: #3EB7F6; }\n  .luggage_orders .orange_bg {\n    background-color: #FF5000; }\n  .luggage_orders .gray_bg {\n    background-color: #CCCCCC; }\n  .luggage_orders .cancel {\n    box-sizing: border-box;\n    padding-left: 19px;\n    color: #333333;\n    font-size: 13px; }\n  .luggage_orders .to-pay {\n    position: fixed;\n    bottom: 0;\n    height: 50px;\n    width: 100%;\n    border: none;\n    background-color: #FF5000;\n    color: #fff;\n    font-size: 18px; }\n",""])},1089:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,n){var t={};for(var o in e)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),d=t(20),u=o(d),c=t(28),p=o(c),g=function(e){function n(e){a(this,n);var t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.scrollListener=t.scrollListener.bind(t),t}return i(n,e),s(n,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("scroll",this.scrollListener,this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.props.useCapture)}},{key:"attachScrollListener",value:function(){if(this.props.hasMore){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.addEventListener("scroll",this.scrollListener,this.props.useCapture),e.addEventListener("resize",this.scrollListener,this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"scrollListener",value:function(){var e=this.scrollComponent,n=window,t=void 0;if(this.props.useWindow){var o=void 0!==n.pageYOffset?n.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;t=this.props.isReverse?o:this.calculateTopPosition(e)+(e.offsetHeight-o-window.innerHeight)}else t=this.props.isReverse?e.parentNode.scrollTop:e.scrollHeight-e.parentNode.scrollTop-e.parentNode.clientHeight;t<Number(this.props.threshold)&&(this.detachScrollListener(),"function"==typeof this.props.loadMore&&this.props.loadMore(this.pageLoaded+=1))}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,o=n.element,a=n.hasMore,l=(n.initialLoad,n.isReverse,n.loader),i=(n.loadMore,n.pageStart,n.threshold,n.useCapture,n.useWindow,r(n,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","threshold","useCapture","useWindow"]));return i.ref=function(n){e.scrollComponent=n},u.default.createElement(o,i,t,a&&(l||this.defaultLoader))}}]),n}(d.Component);g.propTypes={element:p.default.string,hasMore:p.default.bool,initialLoad:p.default.bool,isReverse:p.default.bool,loadMore:p.default.func.isRequired,pageStart:p.default.number,threshold:p.default.number,useCapture:p.default.bool,useWindow:p.default.bool,children:p.default.oneOfType([p.default.object,p.default.array]).isRequired,loader:p.default.object},g.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null},n.default=g,e.exports=n.default},1090:function(e,n,t){e.exports=t(1089)},1130:function(e,n,t){var o=t(1003);"string"==typeof o&&(o=[[e.i,o,""]]);t(366)(o,{});o.locals&&(e.exports=o.locals)},757:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function l(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),d=t(20),u=o(d),c=t(367);t(1130);var p=t(18),g=o(p),f=t(1090),b=o(f),h=t(41),x=o(h),m=t(55),_=function(e){function n(){r(this,n);var e=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.state={orders:[],page:1,showinfo:!1,showorder:void 0,hasmore:!1,fetch:!1},e}return l(n,e),s(n,[{key:"getCookie",value:function(e){if(document.cookie.length>0)try{var n=new RegExp("(^|\\s)"+e+"=([^;]*)(;|$)"),t=document.cookie.match(n);return t?t[2]:null}catch(e){console.log(e)}return""}},{key:"componentWillMount",value:function(){var e=this;this.setState({fetch:!0}),(0,x.default)(g.default.remote_host+"/FE/OrderExtra/wuoyouOrders/"+this.state.page++,{method:"GET"},!0).then(function(n){e.setState({fetch:!1}),200===n.code&&e.setState(Object.assign(e.state,{orders:n.results.lists})),n.results.nowPage<n.results.totalPage?e.setState(i({},e.state,{hasmore:!0})):e.setState(i({},e.state,{hasmore:!1}))})}},{key:"filterOrderState",value:function(e){var n="未知",t="gray_bg";switch(e){case 0:n="未支付",t="red_bg";break;case 1:n="确认中",t="green_bg";break;case 2:n="派单中",t="green_bg";break;case 3:n="已接单",t="blue_bg";break;case 4:n="运送中",t="blue_bg";break;case 5:n="已到达",t="blue_bg";break;case 6:n="已完成",t="orange_bg";break;case 7:n="已取消",t="gray_bg"}return u.default.createElement("div",{className:"state "+t},n)}},{key:"handleOrderItemClick",value:function(e){m.browserHistory.push("/cmsfont/luggageOrderInfo/"+e.id)}},{key:"filterFlowuser",value:function(e){if(3===e.extra.state||4===e.extra.state||5===e.extra.state)return u.default.createElement("div",null,u.default.createElement("div",{className:"flowuser"},"配送人员：",e.extra.user_name),u.default.createElement("div",{className:"flowuser flowphone"},"联系电话：",e.extra.phone))}},{key:"loadMore",value:function(){var e=this;this.state.hasmore&&(0,x.default)(g.default.remote_host+"/FE/OrderExtra/wuoyouOrders/"+this.state.page++,{method:"GET"},!0).then(function(n){200===n.code&&e.setState(Object.assign(e.state,{orders:e.state.orders.concat(n.results.lists)})),n.results.nowPage<n.results.totalPage?e.setState(i({},e.state,{hasmore:!0})):e.setState(i({},e.state,{hasmore:!1})),console.log(e.state)})}},{key:"render",value:function(){var e=this,n=this.state.orders;return 0===n.length?u.default.createElement("div",{className:"page"},u.default.createElement("div",{className:"none"},this.state.fetch?"订单获取中":"暂无无忧行李订单"),u.default.createElement("div",{className:"footer"})):u.default.createElement("div",{className:"page luggage_orders"},u.default.createElement(b.default,{pageStart:1,loadMore:this.loadMore.bind(this),hasMore:this.state.hasmore,useWindow:!1},u.default.createElement("ul",{className:"orders"},n.map(function(n,t){return u.default.createElement("li",{className:"item",key:t,onClick:function(){e.handleOrderItemClick(n)}},u.default.createElement("div",{className:"content"},u.default.createElement("div",{className:"title"},n.desc.start_address),u.default.createElement("div",{className:"title"},"—",n.desc.end_address),u.default.createElement("div",{className:"graytext"},"行李数：",n.desc.num,"件"),u.default.createElement("div",{className:"graytext"},"时间：",n.desc.end_time," 到达"),e.filterOrderState(n.extra.state)))})),u.default.createElement("div",{className:"footer"})))}}]),n}(u.default.Component);n.default=(0,c.connect)()(_)}});