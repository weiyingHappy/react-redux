webpackJsonp([23],{1010:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,'@charset "UTF-8";\n.container-common, #main-container, html, body, .show-order-container {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: FZLTXHK,Helvetica,Tahoma,Arial,STXihei,"\\534E\\6587\\7EC6\\9ED1","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif; }\n\n@media only screen and (max-width: 1920px) and (min-width: 720px) {\n  body {\n    font-size: 20px; }\n  .viewport {\n    max-width: 720px; } }\n\n@media only screen and (max-width: 719px) and (min-width: 690px) {\n  body {\n    font-size: 19.4444px; }\n  .viewport {\n    max-width: 700px; } }\n\n@media only screen and (max-width: 689px) and (min-width: 660px) {\n  body {\n    font-size: 18.6331px; }\n  .viewport {\n    max-width: 689px; } }\n\n@media only screen and (max-width: 659px) and (min-width: 630px) {\n  body {\n    font-size: 17.8217px; }\n  .viewport {\n    max-width: 659px; } }\n\n@media only screen and (max-width: 629px) and (min-width: 600px) {\n  body {\n    font-size: 17.0103px; }\n  .viewport {\n    max-width: 629px; } }\n\n@media only screen and (max-width: 599px) and (min-width: 570px) {\n  body {\n    font-size: 16.1989px; }\n  .viewport {\n    max-width: 599px; } }\n\n@media only screen and (max-width: 569px) and (min-width: 540px) {\n  body {\n    font-size: 15.3749px; }\n  .viewport {\n    max-width: 569px; } }\n\n@media only screen and (max-width: 539px) and (min-width: 510px) {\n  body {\n    font-size: 14.5763px; }\n  .viewport {\n    max-width: 539px; } }\n\n@media only screen and (max-width: 509px) and (min-width: 480px) {\n  body {\n    font-size: 13.7650px; }\n  .viewport {\n    max-width: 509px; } }\n\n@media only screen and (max-width: 479px) and (min-width: 450px) {\n  body {\n    font-size: 12.9537px; }\n  .viewport {\n    max-width: 479px; } }\n\n@media only screen and (max-width: 449px) and (min-width: 420px) {\n  body {\n    font-size: 12.1424px; }\n  .viewport {\n    max-width: 449px; } }\n\n@media only screen and (max-width: 419px) and (min-width: 390px) {\n  body {\n    font-size: 11.3311px; }\n  .viewport {\n    max-width: 419px; } }\n\n@media only screen and (max-width: 389px) and (min-width: 360px) {\n  body {\n    font-size: 10.5189px; }\n  .viewport {\n    max-width: 389px; } }\n\n@media only screen and (max-width: 359px) and (min-width: 330px) {\n  body {\n    font-size: 9.7067px; }\n  .viewport {\n    max-width: 359px; } }\n\n@media only screen and (max-width: 329px) and (min-width: 250px) {\n  body {\n    font-size: 8.8955px; }\n  .viewport {\n    min-width: 320px; } }\n\n.show-order-container {\n  background-color: #F2F2F2;\n  height: auto !important;\n  min-height: 100%; }\n  .show-order-container .so-top {\n    background-color: #fff; }\n  .show-order-container .sot-a {\n    padding: 13px 10px 11px 10px;\n    font-size: 16px;\n    color: #666666;\n    line-height: 18px;\n    border-bottom: 1px solid #DCDCDC; }\n  .show-order-container .sot-b {\n    border-bottom: 1px solid #DCDCDC; }\n  .show-order-container .sot-b > div {\n    font-size: 14px;\n    color: #666666;\n    margin: 10px; }\n  .show-order-container .sot-c {\n    padding: 13px 10px 13px 11px;\n    font-size: 14px;\n    color: #666666;\n    border-bottom: 1px solid #DCDCDC; }\n  .show-order-container .sot-d {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0;\n    height: 60px;\n    font-size: 1.0rem; }\n  .show-order-container .sotd-a {\n    border-right: 1px solid #DCDCDC; }\n  .show-order-container .sotd-a, .show-order-container .sotd-b {\n    width: 50%;\n    box-sizing: border-box;\n    height: 100%;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center; }\n  .show-order-container .location-icon, .show-order-container .phone-icon {\n    display: inline-block;\n    width: 30px;\n    height: 30px;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center; }\n  .show-order-container .location-icon {\n    background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/location.png); }\n  .show-order-container .phone-icon {\n    background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/phone.png); }\n  .show-order-container .sotd-img {\n    margin-right: 8px;\n    height: 22px;\n    width: 22px; }\n  .show-order-container .so-middle {\n    background-color: #fff;\n    margin-top: 10px;\n    padding: 0 10px 16px 10px; }\n  .show-order-container .so-middle > div {\n    font-size: 14px;\n    color: #666666;\n    line-height: 25px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center; }\n  .show-order-container .som-red {\n    color: #FF5000; }\n  .show-order-container .so-bottom {\n    padding: 19px 10px;\n    background-color: #fff;\n    margin-top: 10px; }\n  .show-order-container .so-bottom > div {\n    font-size: 14px;\n    line-height: 25px;\n    color: #666666;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: inherit; }\n  .show-order-container .som-dis {\n    height: 50px;\n    border-bottom: 1px solid #F2F2F2; }\n  .show-order-container .som-progress {\n    flex-flow: row nowrap !important;\n    justify-content: space-between !important;\n    align-items: center !important; }\n  .show-order-container .arrow-right {\n    display: inline-block;\n    height: 12px;\n    width: 12px;\n    border-width: 2px 2px 0 0;\n    border-color: #8B8B8B;\n    border-style: solid;\n    -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n    transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n    margin-right: 5px; }\n  .show-order-container .so-tail {\n    position: fixed;\n    bottom: 0;\n    height: 50px;\n    width: 100%; }\n  .show-order-container .sol-btn {\n    height: 100%;\n    background-color: #FF5000;\n    color: #fff;\n    font-size: 18px;\n    border: none;\n    width: 100%; }\n  .show-order-container .som-e {\n    font-size: 10px !important;\n    color: #FF3333 !important; }\n  .show-order-container a, .show-order-container a:hover {\n    text-decoration: none;\n    color: #666; }\n',""])},1137:function(e,n,t){var o=t(1010);"string"==typeof o&&(o=[[e.i,o,""]]);t(366)(o,{});o.locals&&(e.exports=o.locals)},769:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function d(e){return{order:e.order,user:e.user,storage:e.storage}}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),l=t(20),c=o(l),p=t(367),u=t(55),m=t(0),f=(o(m),t(18)),h=o(f),w=t(779),x=o(w),y=t(778),b=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(y),g=t(370),v=t(166);t(1137);var E=function(e){function n(e){a(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleShowMap=t.handleShowMap.bind(t),t.showRefundProgress=t.showRefundProgress.bind(t),t.state={map_loading:!1},t}return i(n,e),s(n,[{key:"handleShowMap",value:function(){var e=this.props.order,n=this,t=e.pay;n.setState({map_loading:!0}),wx.openLocation({latitude:parseFloat(t.team.latitude),longitude:parseFloat(t.team.longitude),name:t.team.name,address:t.team.address,scale:25,infoUrl:"",success:function(e){n.setState({map_loading:!1})},fail:function(e){alert("获取地图失败"),n.setState({map_loading:!1})}}),setTimeout(function(){n.state.map_loading&&(alert("获取地图失败"),n.setState({map_loading:!1}))},5e3)}},{key:"componentWillMount",value:function(){var e=this.props,n=e.dispatch,t=(e.order,e.user),o=e.storage;n((0,v.fetchOrderInfo)(this.props.params.id));var a={teamId:t.teamId,appid:t.appid,appsecret:t.appsecret};o.js_sdk.hasData?(0,y.jsSdkInit)(o.js_sdk,t.appid,h.default.my_host+"/showOrder"):n((0,g.fetchJsSdk)(a)).then(function(e){console.log("jssdk res: ",e),(0,y.jsSdkInit)(e.results,t.appid,h.default.my_host+"/showOrder")})}},{key:"showRefundProgress",value:function(){u.browserHistory.push("/cmsfont/refundProgress")}},{key:"render",value:function(){var e=this.props.order,n=e.pay;return e.pay.loading?c.default.createElement("div",{className:"show-order-container"},c.default.createElement(x.default,{text:"加载中...",isFetching:e.pay.loading})):c.default.createElement("div",{className:"show-order-container"},c.default.createElement("div",{className:"show-order"},c.default.createElement("div",{className:"so-top"},c.default.createElement("div",{className:"sot-a"},n.team.name),c.default.createElement("div",{className:"sot-b"},c.default.createElement("div",null,"房型: ",n.room.name),c.default.createElement("div",null,"间数: ",n.num,"间"),c.default.createElement("div",null,"入离时间: ",n.start," 至 ",n.end),c.default.createElement("div",null,"订单类型: ",c.default.createElement("span",{style:{color:"#FF5000"}},"1"==n.type?"抢房订单":"2"==n.type?"普通订单":"到付订单"))),c.default.createElement("div",{className:"sot-c"},"酒店地址: ",n.team.address),c.default.createElement("div",{className:"sot-d"},c.default.createElement("a",{className:"sotd-a",onClick:this.handleShowMap},c.default.createElement("span",{className:"location-icon"}),"酒店地图"),c.default.createElement("a",{className:"sotd-b",href:"tel:"+n.team.telphone},c.default.createElement("span",{className:"phone-icon"}),"酒店电话"))),c.default.createElement("div",{className:"so-middle"},c.default.createElement("div",{className:"som-a som-dis"},c.default.createElement("div",null,"订单状态:"),c.default.createElement("div",{className:"som-red"},b.readyPay(n.state)?"未支付":b.hasPay(n.state)?"已支付":b.isFinish(n.state)?"已完成":b.needRefund(n.state)?"申请退款":"已取消")),c.default.createElement("div",{className:"som-progress som-dis",onClick:this.showRefundProgress,style:{display:parseInt(n.apply_refund)>0?"flex":"none"}},c.default.createElement("div",null,"取消/退款进度"),c.default.createElement("div",{className:"arrow-right"})),c.default.createElement("div",{className:"som-b"},c.default.createElement("div",null,"订单编号:"),c.default.createElement("div",null,n.order_no)),c.default.createElement("div",{className:"som-c"},c.default.createElement("div",null,"下单时间:"),c.default.createElement("div",null,n.create_time)),c.default.createElement("div",{className:"som-d"},c.default.createElement("div",null,"订单金额:"),c.default.createElement("div",{className:"som-red"},"￥",n.price)),c.default.createElement("div",{className:"som-d"},c.default.createElement("div",null,"优惠金额:"),c.default.createElement("div",null,"￥",n.price-n.pay_price)),c.default.createElement("div",{className:"som-d"},c.default.createElement("div",null,"支付金额:"),c.default.createElement("div",{className:"som-red"},"￥",n.pay_price)),c.default.createElement("div",{className:"som-e"},n.state>2?"*退款到账需3个工作日":"")),c.default.createElement("div",{className:"so-bottom"},c.default.createElement("div",{className:"sob-a"},c.default.createElement("div",null,"入住人:"),c.default.createElement("div",null,n.user_name)),c.default.createElement("div",{className:"sob-b"},c.default.createElement("div",null,"联系手机:"),c.default.createElement("div",null,n.phone)))),c.default.createElement(x.default,{text:"获取位置中",isFetching:this.state.map_loading}))}}]),n}(l.Component);n.default=(0,p.connect)(d)(E)},778:function(e,n,t){"use strict";function o(e){if(e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+e,document.cookie.length>0)try{var n=new RegExp("(^|\\s)"+e+"=([^;]*)(;|$)"),t=document.cookie.match(n);return t?decodeURIComponent(t[2]):null}catch(e){console.log(e)}return null}function a(e,n,t){console.log("jsSdk",e),wx.config({debug:!1,appId:n,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:(0,h.default)("jsapi_ticket="+e.jsapi_ticket+"&noncestr="+e.nonceStr+"&timestamp="+e.timestamp+"&url="+t),jsApiList:["checkJsApi","openLocation","getLocation"]})}function r(e){document.title=e;var n=navigator.userAgent.toLowerCase(),t=document.querySelectorAll("iframe").length;if(/iphone|ipad|ipod/.test(n)&&!t){var o=document.createElement("iframe");o.style.cssText="display: none; width: 0; height: 0;",o.setAttribute("src","about:blank"),o.addEventListener("load",function(){setTimeout(function(){o.removeEventListener("load",!1),document.body.removeChild(o)},0)}),document.body.appendChild(o)}}function i(e){return 11==e||12==e||13==e}function d(e){return 10==e}function s(e){return 0==e}function l(e){return 1==e||2==e}function c(e){return 5==e}function p(e){return 1==e||2==e}function u(e){return 5==e}function m(e){return 6==e}Object.defineProperty(n,"__esModule",{value:!0}),n.getCookie=o,n.jsSdkInit=a,n.changeTitle=r,n.isCancel=i,n.isFinish=d,n.readyPay=s,n.hasPay=l,n.needRefund=c,n.refundApply=p,n.refundOk=u,n.refundFail=m;var f=t(368),h=function(e){return e&&e.__esModule?e:{default:e}}(f)},779:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),d=t(20),s=function(e){return e&&e.__esModule?e:{default:e}}(d),l=function(e){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),i(n,[{key:"render",value:function(){var e=this.props,n=e.text,t=e.isFetching;return s.default.createElement("div",{id:"loadingToast",style:{display:t?"block":"none"}},s.default.createElement("div",{className:"weui-mask_transparent"}),s.default.createElement("div",{className:"weui-toast"},s.default.createElement("i",{className:"weui-loading weui-icon_toast"}),s.default.createElement("p",{className:"weui-toast__content"},n)))}}]),n}(d.Component);n.default=l}});