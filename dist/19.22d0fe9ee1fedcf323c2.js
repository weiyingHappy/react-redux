webpackJsonp([19],{1006:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,'@charset "UTF-8";\n.container-common, #main-container, html, body, .register-container {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: FZLTXHK,Helvetica,Tahoma,Arial,STXihei,"\\534E\\6587\\7EC6\\9ED1","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif; }\n\n@media only screen and (max-width: 1920px) and (min-width: 720px) {\n  body {\n    font-size: 20px; }\n  .viewport {\n    max-width: 720px; } }\n\n@media only screen and (max-width: 719px) and (min-width: 690px) {\n  body {\n    font-size: 19.4444px; }\n  .viewport {\n    max-width: 700px; } }\n\n@media only screen and (max-width: 689px) and (min-width: 660px) {\n  body {\n    font-size: 18.6331px; }\n  .viewport {\n    max-width: 689px; } }\n\n@media only screen and (max-width: 659px) and (min-width: 630px) {\n  body {\n    font-size: 17.8217px; }\n  .viewport {\n    max-width: 659px; } }\n\n@media only screen and (max-width: 629px) and (min-width: 600px) {\n  body {\n    font-size: 17.0103px; }\n  .viewport {\n    max-width: 629px; } }\n\n@media only screen and (max-width: 599px) and (min-width: 570px) {\n  body {\n    font-size: 16.1989px; }\n  .viewport {\n    max-width: 599px; } }\n\n@media only screen and (max-width: 569px) and (min-width: 540px) {\n  body {\n    font-size: 15.3749px; }\n  .viewport {\n    max-width: 569px; } }\n\n@media only screen and (max-width: 539px) and (min-width: 510px) {\n  body {\n    font-size: 14.5763px; }\n  .viewport {\n    max-width: 539px; } }\n\n@media only screen and (max-width: 509px) and (min-width: 480px) {\n  body {\n    font-size: 13.7650px; }\n  .viewport {\n    max-width: 509px; } }\n\n@media only screen and (max-width: 479px) and (min-width: 450px) {\n  body {\n    font-size: 12.9537px; }\n  .viewport {\n    max-width: 479px; } }\n\n@media only screen and (max-width: 449px) and (min-width: 420px) {\n  body {\n    font-size: 12.1424px; }\n  .viewport {\n    max-width: 449px; } }\n\n@media only screen and (max-width: 419px) and (min-width: 390px) {\n  body {\n    font-size: 11.3311px; }\n  .viewport {\n    max-width: 419px; } }\n\n@media only screen and (max-width: 389px) and (min-width: 360px) {\n  body {\n    font-size: 10.5189px; }\n  .viewport {\n    max-width: 389px; } }\n\n@media only screen and (max-width: 359px) and (min-width: 330px) {\n  body {\n    font-size: 9.7067px; }\n  .viewport {\n    max-width: 359px; } }\n\n@media only screen and (max-width: 329px) and (min-width: 250px) {\n  body {\n    font-size: 8.8955px; }\n  .viewport {\n    min-width: 320px; } }\n\n.register-container .top {\n  height: 230px;\n  width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center; }\n  .register-container .top .logo-img {\n    height: 84px;\n    width: 140px; }\n\n.register-container .signForm {\n  margin-top: 10%;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: inherit;\n  padding: 5px 20px 5px 20px; }\n\n.register-container .phone-container, .register-container .code-container {\n  padding: 5px 0 7px 0;\n  border-bottom: 1px solid #aaa;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 5px;\n  height: 35px; }\n\n.register-container .icon-container {\n  font-size: 1.0rem;\n  coloe: #666;\n  padding-right: 10px;\n  white-space: nowrap; }\n\n.register-container .phone-image {\n  width: 23px;\n  height: 23px; }\n\n.register-container .code-image {\n  width: 23px;\n  height: 23px; }\n\n.register-container .input-phone, .register-container .input-code {\n  flex: 1;\n  height: 30px;\n  border: none;\n  display: block;\n  font-size: 0.8rem; }\n\n.register-container .get-code {\n  width: 100px;\n  margin-left: 5px;\n  border: none;\n  background-color: #DEB269;\n  font-size: 0.8rem;\n  color: #fff;\n  height: 2.0rem;\n  border-radius: 3px;\n  white-space: nowrap; }\n\n.register-container .submitButton {\n  margin-top: 50px;\n  border: none;\n  height: 40px;\n  font-size: 14px;\n  font-weight: 100;\n  background-color: #DEB269;\n  color: #fff;\n  border-radius: 3px; }\n\n.register-container .register-dialog {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  font-size: 16px;\n  color: #666666;\n  height: 180px; }\n  .register-container .register-dialog .img-dialog {\n    width: 120px;\n    height: 120px;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/register-modal.png); }\n',""])},1105:function(e,n,t){var i=t(978);"string"==typeof i&&(i=[[e.i,i,""]]);t(366)(i,{});i.locals&&(e.exports=i.locals)},1133:function(e,n,t){var i=t(1006);"string"==typeof i&&(i=[[e.i,i,""]]);t(366)(i,{});i.locals&&(e.exports=i.locals)},766:function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function s(e){return{register:e.register,user:e.user,teamId:e.user.teamId}}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),d=t(20),l=i(d),p=t(367),u=t(55);t(1133);var h=t(779),f=i(h),m=t(919),g=i(m),x=t(374),b=t(369),y=t(778),w=function(e){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleSubmit=t.handleSubmit.bind(t),t.phoneChange=t.phoneChange.bind(t),t.codeChange=t.codeChange.bind(t),t.handleGetCode=t.handleGetCode.bind(t),t.backTime=t.backTime.bind(t),t.handleDialogClick=t.handleDialogClick.bind(t),t.state={btn_txt:"获取验证码",phone:"",code:"",isDisplayDialog:!1,sb_code:0,sb_msg:""},t}return r(n,e),c(n,[{key:"componentWillMount",value:function(){}},{key:"handleSubmit",value:function(e){e.preventDefault();var n=this,t=this.state.phone,i=this.state.code,o={phone:t,code:i};this.props.dispatch((0,x.fetchCheckCode)(o)).then(function(e){if(console.log("check over",e),200==e.code){var i={phone:t,nickname:(0,y.getCookie)("nickname",n.props.teamId),team_id:n.props.teamId,wxid:(0,y.getCookie)("openid",n.props.teamId)};n.props.dispatch((0,x.fetchRegister)(i)).then(function(e){console.log("submit over",e),200==e.code?n.setState({sb_code:e.code,sb_msg:"注册成功",isDisplayDialog:!0}):n.setState({sb_code:e.code,sb_msg:e.sb_msg+"-submit failed",isDisplayDialog:!0})})}else n.setState({sb_code:e.code,sb_msg:e.msg+"-checkcode failed",isDisplayDialog:!0})})}},{key:"phoneChange",value:function(e){var n=e.target.value;/^[0-9]*$/.test(n)&&this.setState({phone:n})}},{key:"codeChange",value:function(e){var n=e.target.value;/^[0-9]*$/.test(n)&&this.setState({code:n})}},{key:"backTime",value:function(e){if(0==e)return void this.setState({btn_txt:"获取验证码"});this.setState({btn_txt:e.toString()+" 秒"}),setTimeout(function(){this.backTime(e-1)}.bind(this),1e3)}},{key:"handleGetCode",value:function(e){var n=this;e.preventDefault();var t=this.state.phone;if(!/^1[34578]\d{9}$/.test(t))return void alert("手机号不合法");this.props.dispatch((0,x.fetchCode)(t)).then(function(e){console.log("dispatch over: ",e),n.backTime(60)})}},{key:"handleDialogClick",value:function(){var e=this.props,n=e.user,t=e.dispatch,i=this;this.setState({isDisplayDialog:!1}),200==this.state.sb_code&&(0!=n.register_back_url.length?t((0,b.fetchLogin)({token:n.wechatToken,code:n.wechatCode})).then(function(e){u.browserHistory.push(i.props.user.register_back_url),t((0,b.setUser)({register_back_url:""}))}):u.browserHistory.push("/cmsfont/index/"+this.props.user.wechatToken+"?code="+this.props.user.wechatCode))}},{key:"render",value:function(){var e=this.props,n=(e.dispatch,e.register);return l.default.createElement("div",{className:"register-container"},l.default.createElement("form",{className:"signForm",onSubmit:this.handleSubmit},l.default.createElement("div",{className:"phone-container"},l.default.createElement("div",{className:"icon-container"},"手机号:"),l.default.createElement("input",{type:"tel",placeholder:"请输入手机号码",value:this.state.phone,className:"input-phone",onChange:this.phoneChange})),l.default.createElement("div",{className:"code-container"},l.default.createElement("div",{className:"icon-container"},"验证码:"),l.default.createElement("input",{type:"tel",placeholder:"输入短信接收到验证码",value:this.state.code,className:"input-code",onChange:this.codeChange}),l.default.createElement("button",{className:"get-code",onClick:this.handleGetCode,disabled:"获取验证码"!=this.state.btn_txt,style:{color:(this.state.btn_txt,"#fff")}},this.state.btn_txt)),l.default.createElement("button",{type:"submit",className:"submitButton"},"立即验证")),l.default.createElement(f.default,{text:"loading...",isFetching:n.isFetching}),l.default.createElement(g.default,{isDisplay:this.state.isDisplayDialog,handleClick:this.handleDialogClick},l.default.createElement("div",{className:"register-dialog"},l.default.createElement("span",{className:"img-dialog"}),l.default.createElement("div",null,this.state.sb_msg))))}}]),n}(d.Component);n.default=(0,p.connect)(s)(w)},778:function(e,n,t){"use strict";function i(e){if(e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+e,document.cookie.length>0)try{var n=new RegExp("(^|\\s)"+e+"=([^;]*)(;|$)"),t=document.cookie.match(n);return t?decodeURIComponent(t[2]):null}catch(e){console.log(e)}return null}function o(e,n,t){console.log("jsSdk",e),wx.config({debug:!1,appId:n,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:(0,m.default)("jsapi_ticket="+e.jsapi_ticket+"&noncestr="+e.nonceStr+"&timestamp="+e.timestamp+"&url="+t),jsApiList:["checkJsApi","openLocation","getLocation"]})}function a(e){document.title=e;var n=navigator.userAgent.toLowerCase(),t=document.querySelectorAll("iframe").length;if(/iphone|ipad|ipod/.test(n)&&!t){var i=document.createElement("iframe");i.style.cssText="display: none; width: 0; height: 0;",i.setAttribute("src","about:blank"),i.addEventListener("load",function(){setTimeout(function(){i.removeEventListener("load",!1),document.body.removeChild(i)},0)}),document.body.appendChild(i)}}function r(e){return 11==e||12==e||13==e}function s(e){return 10==e}function c(e){return 0==e}function d(e){return 1==e||2==e}function l(e){return 5==e}function p(e){return 1==e||2==e}function u(e){return 5==e}function h(e){return 6==e}Object.defineProperty(n,"__esModule",{value:!0}),n.getCookie=i,n.jsSdkInit=o,n.changeTitle=a,n.isCancel=r,n.isFinish=s,n.readyPay=c,n.hasPay=d,n.needRefund=l,n.refundApply=p,n.refundOk=u,n.refundFail=h;var f=t(368),m=function(e){return e&&e.__esModule?e:{default:e}}(f)},779:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(20),c=function(e){return e&&e.__esModule?e:{default:e}}(s),d=function(e){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),r(n,[{key:"render",value:function(){var e=this.props,n=e.text,t=e.isFetching;return c.default.createElement("div",{id:"loadingToast",style:{display:t?"block":"none"}},c.default.createElement("div",{className:"weui-mask_transparent"}),c.default.createElement("div",{className:"weui-toast"},c.default.createElement("i",{className:"weui-loading weui-icon_toast"}),c.default.createElement("p",{className:"weui-toast__content"},n)))}}]),n}(s.Component);n.default=d},919:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(20),c=function(e){return e&&e.__esModule?e:{default:e}}(s);t(1105);var d=function(e){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,e),r(n,[{key:"render",value:function(){var e=this.props.isDisplay;return c.default.createElement("div",{className:"js_dialog",style:{display:e?"block":"none"},onClick:this.props.handleClick},c.default.createElement("div",{className:"weui-mask"}),c.default.createElement("div",{className:"weui-dialog"},this.props.children))}}]),n}(s.Component);n.default=d},978:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,".weui-dialog {\n  width: 70% !important; }\n",""])}});