webpackJsonp([17],{1002:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,'@charset "UTF-8";\n.container-common, #main-container, html, body, .order-generate-container {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: FZLTXHK,Helvetica,Tahoma,Arial,STXihei,"\\534E\\6587\\7EC6\\9ED1","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif; }\n\n@media only screen and (max-width: 1920px) and (min-width: 720px) {\n  body {\n    font-size: 20px; }\n  .viewport {\n    max-width: 720px; } }\n\n@media only screen and (max-width: 719px) and (min-width: 690px) {\n  body {\n    font-size: 19.4444px; }\n  .viewport {\n    max-width: 700px; } }\n\n@media only screen and (max-width: 689px) and (min-width: 660px) {\n  body {\n    font-size: 18.6331px; }\n  .viewport {\n    max-width: 689px; } }\n\n@media only screen and (max-width: 659px) and (min-width: 630px) {\n  body {\n    font-size: 17.8217px; }\n  .viewport {\n    max-width: 659px; } }\n\n@media only screen and (max-width: 629px) and (min-width: 600px) {\n  body {\n    font-size: 17.0103px; }\n  .viewport {\n    max-width: 629px; } }\n\n@media only screen and (max-width: 599px) and (min-width: 570px) {\n  body {\n    font-size: 16.1989px; }\n  .viewport {\n    max-width: 599px; } }\n\n@media only screen and (max-width: 569px) and (min-width: 540px) {\n  body {\n    font-size: 15.3749px; }\n  .viewport {\n    max-width: 569px; } }\n\n@media only screen and (max-width: 539px) and (min-width: 510px) {\n  body {\n    font-size: 14.5763px; }\n  .viewport {\n    max-width: 539px; } }\n\n@media only screen and (max-width: 509px) and (min-width: 480px) {\n  body {\n    font-size: 13.7650px; }\n  .viewport {\n    max-width: 509px; } }\n\n@media only screen and (max-width: 479px) and (min-width: 450px) {\n  body {\n    font-size: 12.9537px; }\n  .viewport {\n    max-width: 479px; } }\n\n@media only screen and (max-width: 449px) and (min-width: 420px) {\n  body {\n    font-size: 12.1424px; }\n  .viewport {\n    max-width: 449px; } }\n\n@media only screen and (max-width: 419px) and (min-width: 390px) {\n  body {\n    font-size: 11.3311px; }\n  .viewport {\n    max-width: 419px; } }\n\n@media only screen and (max-width: 389px) and (min-width: 360px) {\n  body {\n    font-size: 10.5189px; }\n  .viewport {\n    max-width: 389px; } }\n\n@media only screen and (max-width: 359px) and (min-width: 330px) {\n  body {\n    font-size: 9.7067px; }\n  .viewport {\n    max-width: 359px; } }\n\n@media only screen and (max-width: 329px) and (min-width: 250px) {\n  body {\n    font-size: 8.8955px; }\n  .viewport {\n    min-width: 320px; } }\n\n.order-generate-container {\n  background-color: #F2F2F2;\n  padding-top: 10px; }\n  .order-generate-container .top {\n    background-color: #fff; }\n  .order-generate-container .top-a {\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: space-around;\n    align-items: inherit;\n    padding: 10px;\n    border-bottom: 1px solid #DCDCDC; }\n  .order-generate-container .top-a-title {\n    font-size: 16px;\n    color: #666666;\n    line-height: 18px; }\n  .order-generate-container .top-a-date {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: inherit;\n    font-size: 14px;\n    line-height: 18px;\n    margin-top: 15px;\n    margin-bottom: 5px; }\n  .order-generate-container .date-delight {\n    color: #B2B2B2; }\n  .order-generate-container .date-highlight {\n    color: #666666; }\n  .order-generate-container .top-b {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 11px 0 11px 10px; }\n  .order-generate-container .top-b-a {\n    font-size: 16px;\n    color: #666666;\n    margin-right: 15px;\n    min-width: 50px; }\n  .order-generate-container .top-b-b {\n    font-size: 14px;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    align-items: inherit; }\n  .order-generate-container .middle {\n    margin-top: 10px;\n    background-color: #fff;\n    box-sizing: border-box; }\n  .order-generate-container .mbc-container {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    box-sizing: border-box; }\n  .order-generate-container .mbc-right {\n    width: 18%;\n    height: 80px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: center;\n    border-left: 1px solid #DCDCDC;\n    border-bottom: 1px solid #DCDCDC;\n    box-sizing: border-box; }\n  .order-generate-container .mbcr-img {\n    width: 27px;\n    height: 29px; }\n  .order-generate-container .mbc-left {\n    flex: 1;\n    box-sizing: border-box; }\n  .order-generate-container div[class^=\'middle-\'] {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    border-bottom: 1px solid #DCDCDC;\n    height: 40px;\n    padding: 0 10px;\n    box-sizing: border-box; }\n  .order-generate-container .middle:last-child {\n    border-bottom: none !important; }\n  .order-generate-container .input-head {\n    width: 70px;\n    margin-right: 10px;\n    font-size: 16px;\n    color: #666;\n    white-space: nowrap; }\n  .order-generate-container .input-body {\n    border: none;\n    flex: 1;\n    height: 30px;\n    font-size: 16px;\n    background-color: #fff; }\n  .order-generate-container .bottom {\n    padding: 10px;\n    background-color: #fff;\n    margin-top: 10px; }\n  .order-generate-container .bottom-a {\n    margin: 6px auto 14px auto;\n    font-size: 14px;\n    color: #FF5000; }\n  .order-generate-container .bottom-res {\n    font-size: 14px;\n    color: #666666;\n    line-height: 22px; }\n  .order-generate-container .tail {\n    width: 100%;\n    height: 50px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    z-index: 100; }\n  .order-generate-container .tail-a {\n    background-color: #fff;\n    text-align: center;\n    line-height: 50px;\n    width: 67%;\n    font-size: 18px; }\n  .order-generate-container .tail-b {\n    width: 33%;\n    height: 100%;\n    border: none;\n    background-color: #FF5000;\n    color: #fff;\n    font-size: 18px; }\n  .order-generate-container .tail-highlight {\n    color: #FF4E00; }\n  .order-generate-container .sign {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    border-width: 0 2px 2px 0;\n    border-color: #B2B2B2;\n    border-style: solid;\n    -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n    transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n    margin-right: 10px; }\n  .order-generate-container .choose-room-num {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20px; }\n  .order-generate-container .room-num-item {\n    width: 26%;\n    height: 40px;\n    text-align: center;\n    line-height: 40px;\n    border: 1px solid #B2B2B2;\n    border-radius: 3px;\n    color: #B2B2B2;\n    margin-top: 10px;\n    font-size: 16px; }\n  .order-generate-container .room-num-button {\n    width: 100%;\n    margin-top: 20px;\n    background-color: #FF5000;\n    color: #fff;\n    border-radius: 3px;\n    font-size: 18px;\n    height: 50px;\n    line-height: 50px;\n    border: none; }\n  .order-generate-container .num-item-highlight {\n    border-color: #4969F1;\n    color: #4969F1; }\n  .order-generate-container .room-num-item-disabled {\n    text-decoration: line-through; }\n  .order-generate-container .coupon {\n    background-color: #ffffff;\n    margin: 10px 0;\n    box-sizing: border-box;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 15px; }\n  .order-generate-container .cpl-a {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n  .order-generate-container .cpla-a {\n    font-size: 16px;\n    color: #333333; }\n  .order-generate-container .cpla-b {\n    margin-left: 11px;\n    color: #FF3333;\n    border: 1px solid #FF3333;\n    font-size: 9px; }\n  .order-generate-container .cpl-b {\n    font-size: 11px;\n    color: #666666; }\n  .order-generate-container .cp-right {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n  .order-generate-container .cpr-a {\n    font-size: 16px;\n    color: #FF5001;\n    margin-right: 8px; }\n  .order-generate-container .cpr-b {\n    display: inline-block;\n    height: 10px;\n    width: 10px;\n    border-width: 2px 2px 0 0;\n    border-color: #8B8B8B;\n    border-style: solid;\n    -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n    transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0); }\n',""])},1129:function(e,n,t){var a=t(1002);"string"==typeof a&&(a=[[e.i,a,""]]);t(366)(a,{});a.locals&&(e.exports=a.locals)},1153:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA5CAYAAAB9E9gIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY0MUQ5NjM0QzM1RTExRTY4MTg3QzYxMTEyMjA3NkQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY0MUQ5NjM1QzM1RTExRTY4MTg3QzYxMTEyMjA3NkQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjQxRDk2MzJDMzVFMTFFNjgxODdDNjExMTIyMDc2RDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjQxRDk2MzNDMzVFMTFFNjgxODdDNjExMTIyMDc2RDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4/Qz0QAAAFGklEQVR42tyaC2jVVRzHz72OaT5qOZ1PbGr4wHClroXzgaEpKZokDjO0MsMofKEShPYALZgogpSCqaj08jENKkSHK0wXrTQlNZ/DVvl+zLlWc67vz/0Gl+Pv3P0f59w7/cEH5/n/7//+v///Ob/XuZHa55Qti4CnwAj+txfIAC3AP+Ay+B2UgN1gD6gJ/a0FtfLNWBDWHLwGZoKuPj73F1gDVoArtoVFQ4rKAyfBcp+iyDqCReAUP5QmyqIFFdYSbAKfgw4h7yGN39ou0D6ZwtqCIjDZw7kV4Coo93DuMLAf9EiGsIdAIehvOH4TrAfj+U22Aq35c+lgFFjJYiXL5Os/EtqT+XAe9BC+Bc8Ix27xDS8BFz1O5VngbfCAcPwoGAAqE+E85hlEkXcbCuZ4FFU/RReDfuCIcLw3rzvnU5E83jvCeBnIBfsCfv8xMAj8JBybBga7FraI45X+1IeD0pDLgdbbaPCHEPA/cCmsM3hRGJ/DmYQNoyn8MtAXTC7jRNgLIEUbOwA+UXaNvOE2YXyqK2GS38wXnq4NyxfGng8Sbxv6ALnlbCFWbVdu7EdwQhujOPiYbWG9hGn4A2frrqxQGOtjW1g3YexX5dYOGcKNVWFpwtgFx8LOGVI5q8KkUqLasTDp+s1sC7smjD3sWFi6MFZuW9h5YayHY2GPGvJRq8IOC2O5joVJ+eFB28IuCrlgF/CkI1HthAdXbfCUoTOPHcLYm46EzRDi5vecFFgXtkUYmwSyLIuifsdsYXyDq1xxL/hFG6OnuhakWhJFJcoqIW7+zQ0jZ/XYQmGsH4uLWhBGLYVxwjjVY/+5FPaNoaSgTtWmIAE05vvp5t8yeMKPXFfQZG+APw3rrZibL37j1S6DKGriTFEhWuB+hFEON9GQ2WdxybGV2wVN4qylHFXX2v4NPC2cQ3XeK4YY6n3RBujdU6eqQOiBxNp1btCU8t+0OdGJ66qMOJ+7Dabz2vVmljclBoIv+WZtGeWDL/FDU2GFBfVoP4PVluPYF7zmrJhfYRF2FsfB+5aF0RQ8A163EUL8XKALP9FP+W8X1oZd/KGwmU2Kx/PGgI2GijrWKJiW8I1RU+YSe9FUbsp04+ZQdgNZC/U49nPt968rYdQYXRrn7dKGxNeqbpeFtmArPFyTNiKGcICnENLUcE6zoMIamorU2l5mOI9c8zrQU9X1Hrd7FKX4Le7kIEzTermQOl1Vd+/EpPGbDyWMtk/fi1OAZnMgPR1yXVFzaC5Pv+94jOLfSK2x8y5PbaoRPwwaoJ8FXxkyiNVcXlQ5cB5RnqJF2ngOp216Jb/PTxzrzI5CErWAi8EqR17xtiCKrK/BwfiaimsM85hE5avkWIpfx6cLm8hzW7ePkygqdIBO5YJPtwOGkv2eEUapUnchRk0NWsUm02Ln6VzDFDycwPsZwzHxQW28u3Duq4p+GzI+0ipGx+U7VUdB7bZ6d9+fUyE9PcrkhkoibALYbOlaY6MxTkO3zxIoqr5/omwLGy0c3JDgZXHS4rXO01Rsw2lNRMvT2iobvyf0bhQ7aTfz8ZDXoZbECFp0T2iiFEf/mgS/sSt8L7Su04X1p3ezKF/Uu9TX4DhO1XvFvobYlSwrVXdvhEibIGfvtCji5IqZwvhBdY9blBszeq1UfD8I28gVciV7pjzl/VdsjTrzICcxn2msJu1BV4ZpDTQWo17K9Zj/31DyD118NXMag9EmP+1Nz+LEnKr4sngf+F+AAQDASw8JhdviawAAAABJRU5ErkJggg=="},763:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function d(e){return{storage:e.storage,hotel:e.hotel,user:e.user,coupon:e.coupon}}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=t(20),s=a(c),m=t(367),p=t(0),u=a(p),f=t(55),h=t(809),x=a(h),g=t(779),b=a(g),w=t(370),y=t(166),v=(t(369),t(371)),E=t(1153);a(E);t(1129);var N=function(e){function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handlePay=t.handlePay.bind(t),t.handleChooseNum=t.handleChooseNum.bind(t),t.chooseCoupon=t.chooseCoupon.bind(t),t.state={is_choosing_num:!1,name:"",phone:""},t}return r(n,e),l(n,[{key:"componentWillMount",value:function(){var e=this.props,n=e.dispatch,t=e.hotel,a=e.user,o=e.storage,i=e.coupon,r=this,d=t.lists[t.room_id],l=(0,u.default)(o.from),c=(0,u.default)(o.to);if(a.isLogin){r.setState({phone:a.phone});var s={roomId:d.id,start:(0,u.default)(l).format("YYYY-MM-DD"),days:(0,u.default)(c).diff(l,"days"),num:1};n((0,w.fetchOrderNum)(s)).then(function(e){if(1==i.use.choosed)n((0,v.setNotChoosed)());else{var t={price:o.order.price,team_id:a.teamId};n((0,v.fetchUsageCoupon)(t)).then(function(e){if(localStorage.useCoupon){var t=localStorage.useCoupon;localStorage.removeItem("useCoupon");var a=-1;e.results.available.map(function(e,n){console.log("map coupon",e.id,t),e.id==t&&(a=n)}),console.log(a),-1!=a&&n((0,v.changeCoupon)({id:a}))}})}})}else f.browserHistory.replace("/cmsfont/rooms")}},{key:"twoFloat",value:function(e){return parseInt(100*e)/100}},{key:"handleChooseNum",value:function(e){var n=this;return function(){var t=n.props,a=t.dispatch,o=t.hotel,i=(t.user,t.storage),r=o.lists[o.room_id],d=(0,u.default)(i.from),l=(0,u.default)(i.to);if(!(i.inventory<e)){n.setState({is_choosing_num:!1});var c={roomId:r.id,start:(0,u.default)(d).format("YYYY-MM-DD"),days:(0,u.default)(l).diff(d,"days"),num:e};a((0,w.fetchOrderNum)(c)).then(function(e){fetchCouponLists({price:e.results,team_id:o.intro.id})})}}}},{key:"handleChooseCoupon",value:function(){f.browserHistory.push("/cmsfont/chooseCoupon")}},{key:"convertPrice",value:function(){var e=this.props.coupon,n=e.available,t=e.choose,a=this.props.storage.order;return 0==n.length?a.price:a.price-(1==t.coupon_type?Math.min(((10-t.desc.discount)*a.price/10).toFixed(2),t.desc.max_discount):parseFloat(t.desc.discount))}},{key:"handlePay",value:function(){var e=this.props,n=e.dispatch,t=e.hotel,a=(e.user,e.storage),o=e.coupon,i=this,r=t.lists[t.room_id];if(""==i.state.name||""==i.state.phone)return void alert("姓名或手机号不能为空");if(!/^1[34578]\d{9}$/.test(i.state.phone))return void alert("手机号不合法");var d=0==o.use.available.length?"-1":o.use.recommend.id,l={room_id:r.id,num:a.order.num,user_name:i.state.name,phone:i.state.phone,start:a.from,end:a.to};console.log("coupon_id: ",d),-1!=d&&(l.coupon_id=d,console.log("coupon set ok, info: ",l)),o.recommend&&(l.coupon_id=o.recommend.id),o.choose&&(l.coupon_id=o.choose.id),n((0,w.fetchOrderSubmit)(l)).then(function(e){console.log("order generate",e),200==e.code?(n((0,y.setPay)({order_no:e.results.order_no})),f.browserHistory.push("/cmsfont/payPage")):alert(e.code+"---"+e.msg)})}},{key:"chooseCoupon",value:function(){f.browserHistory.push("/cmsfont/chooseCoupon")}},{key:"render",value:function(){var e=this,n=this.props,t=n.storage,a=n.hotel,o=(n.user,n.coupon),i=a.lists[a.room_id],r=o.use,d=r.available,l=(r.disable,r.recommend),c=(0,u.default)(t.from),m=(0,u.default)(t.to);return s.default.createElement("div",{className:"order-generate-container"},s.default.createElement("div",{className:"top"},s.default.createElement("div",{className:"top-a"},s.default.createElement("div",{className:"top-a-title"},a.intro.name),s.default.createElement("div",{className:"top-a-date"},s.default.createElement("div",{className:"top-a-date-a"},s.default.createElement("span",{className:"date-delight"},"入住: "),s.default.createElement("span",{className:"date-highlight"},c.get("month")+1,"月",c.get("date"),"日")),s.default.createElement("div",{className:"top-a-date-b"},s.default.createElement("span",{className:"date-delight"},"共"),s.default.createElement("span",{className:"date-highlight"},(0,u.default)(m).diff(c,"days")),s.default.createElement("span",{className:"date-delight"},"晚")),s.default.createElement("div",{className:"top-a-date-c"},s.default.createElement("span",{className:"date-delight"},"离店: "),s.default.createElement("span",{className:"date-highlight"},m.get("month")+1,"月",m.get("date"),"日")))),s.default.createElement("div",{className:"top-b"},s.default.createElement("div",{className:"top-b-a"},i.name),s.default.createElement("div",{className:"top-b-b"},s.default.createElement(x.default,{lists:i.equipments})))),s.default.createElement("div",{className:"middle"},s.default.createElement("div",{className:"middle-a",onClick:function(){return e.setState({is_choosing_num:!0})}},s.default.createElement("div",{className:"input-head"},"房间数"),s.default.createElement("input",{type:"text",disabled:!0,value:t.order.num+"间",className:"input-body"}),s.default.createElement("div",{className:"sign"})),s.default.createElement("div",{className:"mbc-container"},s.default.createElement("div",{className:"mbc-left"},s.default.createElement("div",{className:"middle-b"},s.default.createElement("div",{className:"input-head"},"入住人  "),s.default.createElement("input",{type:"text",value:this.state.name,placeholder:"姓名",className:"input-body",onChange:function(n){e.setState({name:n.target.value})}})),s.default.createElement("div",{className:"middle-c"},s.default.createElement("div",{className:"input-head"},"手机号"),s.default.createElement("input",{type:"tel",value:this.state.phone,placeholder:"用于接收确认短信",className:"input-body",onChange:function(n){e.setState({phone:n.target.value})}}))))),o.use.loading?s.default.createElement("div",{className:"coupon"},s.default.createElement("div",{className:"weui-loading"})):s.default.createElement("div",{className:"coupon",onClick:this.chooseCoupon},s.default.createElement("div",{className:"cp-left"},s.default.createElement("div",{className:"cpl-a"},s.default.createElement("div",{className:"cpla-a"},"优惠券"),s.default.createElement("div",{className:"cpla-b"},d.length,"张可用")),s.default.createElement("div",{className:"cpl-b"},0==d.length?"暂无可用优惠券":0==l.coupon_type?l.desc.discount+"元优惠券":1==l.coupon_type?l.desc.discount+"折券":"满"+l.desc.limit+"减"+l.desc.discount+"券")),s.default.createElement("div",{className:"cp-right"},s.default.createElement("div",{className:"cpr-a"},(0==d.length?"":"-￥")+(l.coupon_type?1==l.coupon_type?Math.min(((10-l.desc.discount)*t.order.price/10).toFixed(2),l.desc.max_discount):l.desc.discount:"")),s.default.createElement("div",{className:"cpr-b"}))),s.default.createElement("div",{className:"bottom"},s.default.createElement("div",{className:"bottom-a"},"温馨提示:"),s.default.createElement("div",{className:"bottom-res"},"1、需在30分钟内支付，支付成功后，房间预订成功。 "),s.default.createElement("div",{className:"bottom-res"},"2、在入住18：00可取消订单，无条件退全款。款金额将原路返回支付账户。 "),s.default.createElement("div",{className:"bottom-res"},"3、在当日18：00后预订房间，下单后半小时内可取消订单。 "),s.default.createElement("div",{className:"bottom-res"},"4、因自身原因未能入住，请与酒店方协商退款。")),s.default.createElement("div",{style:{height:"80px"}}),t.order.loading?s.default.createElement("div",{className:"tail"},s.default.createElement("div",{className:"tail-a"},"订单金额:￥",s.default.createElement("div",{className:"weui-loading"})),s.default.createElement("button",{className:"tail-b",disabled:!0},s.default.createElement("div",{className:"weui-loading"}))):s.default.createElement("div",{className:"tail"},s.default.createElement("div",{className:"tail-a"},"订单金额:",s.default.createElement("span",{className:"tail-highlight"},"￥",0==d.length?t.order.price:t.order.price-(1==l.coupon_type?Math.min(((10-l.desc.discount)*t.order.price/10).toFixed(2),l.desc.max_discount):l.desc.discount)<=0?1:t.order.price-(1==l.coupon_type?Math.min(((10-l.desc.discount)*t.order.price/10).toFixed(2),l.desc.max_discount):l.desc.discount))),s.default.createElement("button",{className:"tail-b",onClick:this.handlePay},"提交订单")),s.default.createElement(b.default,{text:"提交订单中...",isFetching:t.order.submitting}),s.default.createElement("div",{style:{display:this.state.is_choosing_num?"block":"none"}},s.default.createElement("div",{className:"weui-mask",style:{opacity:"1"}}),s.default.createElement("div",{className:"weui-actionsheet weui-actionsheet_toggle",id:"iosActionsheet"},s.default.createElement("div",{className:"weui-actionsheet__menu choose-room-num"},s.default.createElement("div",{className:"room-num-item "+(1==t.order.num?"num-item-highlight":"")+(t.inventory<1?" room-num-item-disabled":""),onClick:this.handleChooseNum(1)},"1间"),s.default.createElement("div",{className:"room-num-item "+(2==t.order.num?"num-item-highlight":"")+(t.inventory<2?" room-num-item-disabled":""),onClick:this.handleChooseNum(2)},"2间"),s.default.createElement("div",{className:"room-num-item "+(3==t.order.num?"num-item-highlight":"")+(t.inventory<3?" room-num-item-disabled":""),onClick:this.handleChooseNum(3)},"3间"),s.default.createElement("div",{className:"room-num-item "+(4==t.order.num?"num-item-highlight":"")+(t.inventory<4?" room-num-item-disabled":""),onClick:this.handleChooseNum(4)},"4间"),s.default.createElement("div",{className:"room-num-item "+(5==t.order.num?"num-item-highlight":"")+(t.inventory<5?" room-num-item-disabled":""),onClick:this.handleChooseNum(5)},"5间"),s.default.createElement("div",{className:"room-num-item "+(6==t.order.num?"num-item-highlight":"")+(t.inventory<6?" room-num-item-disabled":""),onClick:this.handleChooseNum(6)},"6间")))))}}]),n}(c.Component);n.default=(0,m.connect)(d)(N)},777:function(e,n,t){var a,o;!function(){"use strict";function t(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a))e.push(t.apply(null,a));else if("object"===o)for(var r in a)i.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=t:(a=[],void 0!==(o=function(){return t}.apply(n,a))&&(e.exports=o))}()},779:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),d=t(20),l=function(e){return e&&e.__esModule?e:{default:e}}(d),c=function(e){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,e),r(n,[{key:"render",value:function(){var e=this.props,n=e.text,t=e.isFetching;return l.default.createElement("div",{id:"loadingToast",style:{display:t?"block":"none"}},l.default.createElement("div",{className:"weui-mask_transparent"}),l.default.createElement("div",{className:"weui-toast"},l.default.createElement("i",{className:"weui-loading weui-icon_toast"}),l.default.createElement("p",{className:"weui-toast__content"},n)))}}]),n}(d.Component);n.default=c},809:function(e,n,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),l=t(20),c=a(l);t(845);var s=t(777),m=a(s),p=function(e){function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={},t}return r(n,e),d(n,[{key:"findEqu",value:function(e){switch(e){case"空调":return{name:"空调",className:"icon1"};case"电视":return{name:"电视",className:"icon2"};case"wifi":return{name:"wifi",className:"icon3"};case"浴缸":return{name:"浴缸",className:"icon4"};case"电脑":return{name:"电脑",className:"icon5"};case"免费停车":return{name:"免费停车",className:"icon6"};case"付费停车":return{name:"付费停车",className:"icon7"};case"迷你吧台":return{name:"迷你吧台",className:"icon8"};case"窗户":return{name:"窗户",className:"icon9"};case"单早":return{name:"单早",className:"icon10"};case"双早":return{name:"双早",className:"icon10"};default:return{name:"",className:""}}}},{key:"render",value:function(){var e=this,n=this.props.lists,t=0,a=n.map(function(n){n=e.findEqu(n),t+=1;var a={facilities:!0};return a[n.className]=!0,0==n.name.length?c.default.createElement("div",{key:t}):c.default.createElement("div",{className:"equ-item",key:t},c.default.createElement("span",{className:(0,m.default)(a)}),c.default.createElement("div",{className:"ei-text"},n.name))});return c.default.createElement("div",{className:"equ-area"},a)}}]),n}(c.default.Component);n.default=p},816:function(e,n,t){n=e.exports=t(365)(),n.push([e.i,'@charset "UTF-8";\n.container-common, #main-container, html, body {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-family: FZLTXHK,Helvetica,Tahoma,Arial,STXihei,"\\534E\\6587\\7EC6\\9ED1","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif; }\n\n@media only screen and (max-width: 1920px) and (min-width: 720px) {\n  body {\n    font-size: 20px; }\n  .viewport {\n    max-width: 720px; } }\n\n@media only screen and (max-width: 719px) and (min-width: 690px) {\n  body {\n    font-size: 19.4444px; }\n  .viewport {\n    max-width: 700px; } }\n\n@media only screen and (max-width: 689px) and (min-width: 660px) {\n  body {\n    font-size: 18.6331px; }\n  .viewport {\n    max-width: 689px; } }\n\n@media only screen and (max-width: 659px) and (min-width: 630px) {\n  body {\n    font-size: 17.8217px; }\n  .viewport {\n    max-width: 659px; } }\n\n@media only screen and (max-width: 629px) and (min-width: 600px) {\n  body {\n    font-size: 17.0103px; }\n  .viewport {\n    max-width: 629px; } }\n\n@media only screen and (max-width: 599px) and (min-width: 570px) {\n  body {\n    font-size: 16.1989px; }\n  .viewport {\n    max-width: 599px; } }\n\n@media only screen and (max-width: 569px) and (min-width: 540px) {\n  body {\n    font-size: 15.3749px; }\n  .viewport {\n    max-width: 569px; } }\n\n@media only screen and (max-width: 539px) and (min-width: 510px) {\n  body {\n    font-size: 14.5763px; }\n  .viewport {\n    max-width: 539px; } }\n\n@media only screen and (max-width: 509px) and (min-width: 480px) {\n  body {\n    font-size: 13.7650px; }\n  .viewport {\n    max-width: 509px; } }\n\n@media only screen and (max-width: 479px) and (min-width: 450px) {\n  body {\n    font-size: 12.9537px; }\n  .viewport {\n    max-width: 479px; } }\n\n@media only screen and (max-width: 449px) and (min-width: 420px) {\n  body {\n    font-size: 12.1424px; }\n  .viewport {\n    max-width: 449px; } }\n\n@media only screen and (max-width: 419px) and (min-width: 390px) {\n  body {\n    font-size: 11.3311px; }\n  .viewport {\n    max-width: 419px; } }\n\n@media only screen and (max-width: 389px) and (min-width: 360px) {\n  body {\n    font-size: 10.5189px; }\n  .viewport {\n    max-width: 389px; } }\n\n@media only screen and (max-width: 359px) and (min-width: 330px) {\n  body {\n    font-size: 9.7067px; }\n  .viewport {\n    max-width: 359px; } }\n\n@media only screen and (max-width: 329px) and (min-width: 250px) {\n  body {\n    font-size: 8.8955px; }\n  .viewport {\n    min-width: 320px; } }\n\n.equ-area {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n  align-items: center;\n  background-color: #fff; }\n  .equ-area .equ-item {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    margin-right: 10px;\n    line-height: 30px; }\n    .equ-area .equ-item .facilities {\n      display: inline-block;\n      vertical-align: middle;\n      width: 20px;\n      height: 20px;\n      background-size: contain;\n      background-repeat: no-repeat;\n      background-position: center; }\n      .equ-area .equ-item .facilities.icon1 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-1.png); }\n      .equ-area .equ-item .facilities.icon2 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-2.png); }\n      .equ-area .equ-item .facilities.icon3 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-3.png); }\n      .equ-area .equ-item .facilities.icon4 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-4.png); }\n      .equ-area .equ-item .facilities.icon5 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-5.png); }\n      .equ-area .equ-item .facilities.icon6 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-6.png); }\n      .equ-area .equ-item .facilities.icon7 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-7.png); }\n      .equ-area .equ-item .facilities.icon8 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-8.png); }\n      .equ-area .equ-item .facilities.icon9 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-9.png); }\n      .equ-area .equ-item .facilities.icon10 {\n        background-image: url(http://oi9d1dmyt.bkt.clouddn.com//theme/one/style_one/facilities-icon-10.png); }\n  .equ-area .ei-img {\n    height: 15px;\n    width: 15px; }\n  .equ-area .ei-text {\n    font-size: 14px;\n    color: #666;\n    margin-left: 5px; }\n',""])},845:function(e,n,t){var a=t(816);"string"==typeof a&&(a=[[e.i,a,""]]);t(366)(a,{});a.locals&&(e.exports=a.locals)}});