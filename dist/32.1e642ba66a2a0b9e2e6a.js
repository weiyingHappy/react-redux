webpackJsonp([32],{748:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(20),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(367),i=n(369),f=n(377),p=n(55),h=function(e){function t(){var e,n,a,s;o(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={auth:0,msg:"验证中..."},s=n,r(a,s)}return a(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.dispatch,n=this.props.params.hotel_token,o=this.props.params.alias,r=this.props.location.query.code;localStorage.token=n,localStorage.code=r,t((0,i.fetchLogin)({token:n,code:r})).then(function(t){if(t.results){var n=document.createElement("link");n.rel="stylesheet";var r=(0,f.getBrowserEnv)(),a="/cmsfont/";switch("development"===r&&(a="/"),n.href=a+"theme/one/style1.css",document.querySelector("head").appendChild(n),Number(o)){case 1:p.browserHistory.push("/cmsfont/rooms");case 2:p.browserHistory.push("/cmsfont/myorder");default:e.setState({msg:"为匹配到alias跳转"})}1===Number(o)&&p.browserHistory.push("")}else e.setState({auth:2})}).catch(function(e){alert("出现一个严重错误, code: cms_api")})}},{key:"render",value:function(){return 2===this.state.auth?c.default.createElement("div",null,"登陆失败"):c.default.createElement("div",null,"验证页面",c.default.createElement("ul",null,c.default.createElement("li",null,"状态：",this.state.msg)))}}]),t}(l.Component);t.default=(0,u.connect)()(h)}});